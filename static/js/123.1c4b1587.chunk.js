"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[123],{4123:function(e,n,r){r.r(n),r.d(n,{default:function(){return N}});var t=r(5671),s=r(3144),u=r(136),o=r(5716),i=r(364),a=r(5732),c=r(2791),l="User_usersContainer__Odp4E",f="User_avatar__a8ziU",p="User_users__Ioyw7",h="User_user__Mh4Mt",g="User_pageLists__hMsPB",d="User_selectedPage__T+Uht",v=r(1523),m=r(184),y=function(e){Math.ceil(e.totalUsersCount/e.pageSize);for(var n=[],r=1;r<=26;r++)n.push(r);return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:l,children:[(0,m.jsx)("div",{className:g,children:n.map((function(n,r){return(0,m.jsx)("button",{onClick:function(){e.onPageChanged(n)},className:e.currentPage===n?d:"",children:n},r)}))}),(0,m.jsx)("div",{className:p,children:e.users.map((function(n){return(0,m.jsxs)("div",{className:h,children:[(0,m.jsxs)("div",{children:["Full name: ",(0,m.jsx)("span",{children:n.name})]}),(0,m.jsx)(v.OL,{to:"/profile/"+n.id,children:(0,m.jsx)("img",{className:f,src:null!==n.photos.small?n.photos.small:"https://avatars.mds.yandex.net/i?id=0bbeac957963e13882ae83d5c690a08e603d7664-7803878-images-thumbs&n=13",alt:""})}),(0,m.jsx)("div",{children:n.followed?(0,m.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===n.id})),onClick:function(){e.deleteUsersTC(n.id)},children:"Unfollow"}):(0,m.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===n.id})),onClick:function(){e.postUsersTC(n.id)},children:"Follow"})})]},n.id)}))})]})})},C=r(6159),U=r(2163),P=r(7781),j="NOT_FOUND";var x=function(e,n){return e===n};function w(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,s=void 0===t?x:t,u=r.maxSize,o=void 0===u?1:u,i=r.resultEqualityCheck,a=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,s=0;s<t;s++)if(!e(n[s],r[s]))return!1;return!0}}(s),c=1===o?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:j},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(a):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var s=r[t];return t>0&&(r.splice(t,1),r.unshift(s)),s.value}return j}return{get:t,put:function(n,s){t(n)===j&&(r.unshift({key:n,value:s}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(o,a);function l(){var n=c.get(arguments);if(n===j){if(n=e.apply(null,arguments),i){var r=c.getEntries(),t=r.find((function(e){return i(e.value,n)}));t&&(n=t.value)}c.put(arguments,n)}return n}return l.clearCache=function(){return c.clear()},l}function _(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}function b(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var s=function(){for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];var u,o=0,i={memoizeOptions:void 0},a=t.pop();if("object"===typeof a&&(i=a,a=t.pop()),"function"!==typeof a)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof a+"]");var c=i,l=c.memoizeOptions,f=void 0===l?r:l,p=Array.isArray(f)?f:[f],h=_(t),g=e.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(p)),d=e((function(){for(var e=[],n=h.length,r=0;r<n;r++)e.push(h[r].apply(null,arguments));return u=g.apply(null,e)}));return Object.assign(d,{resultFunc:a,memoizedResultFunc:g,dependencies:h,lastResult:function(){return u},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),d};return s}var k=b(w),T=function(e){return e.usersPage.isFetching},S=k((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),z=function(e){return e.usersPage.pageSize},A=function(e){return e.usersPage.totalUsersCount},E=function(e){return e.usersPage.currentPage},F=function(e){return e.usersPage.followingInProgress},I=function(e){(0,u.Z)(r,e);var n=(0,o.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];return(e=n.call.apply(n,[this].concat(u))).onPageChanged=function(n){e.props.getUsersTC(n,e.props.pageSize)},e}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.props.getUsersTC(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h1",{children:"Users"}),this.props.isFetching?(0,m.jsx)(C.p,{}):(0,m.jsx)(y,{users:this.props.users,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,deleteUsersTC:this.props.deleteUsersTC,postUsersTC:this.props.postUsersTC})]})}}]),r}(c.Component),N=(0,P.qC)((0,i.$j)((function(e){return console.log("mapStateToProps USERS"),{users:S(e),pageSize:z(e),totalUsersCount:A(e),currentPage:E(e),isFetching:T(e),followingInProgress:F(e)}}),{setCurrentPage:a.D4,getUsersTC:a.Zw,deleteUsersTC:a.vB,postUsersTC:a.CE}),U.e)(I)},2163:function(e,n,r){r.d(n,{e:function(){return l}});var t=r(8683),s=r(5987),u=r(9271),o=(r(2791),r(364)),i=r(184),a=["isAuth"],c=function(e){return{isAuth:e.auth.isAuth}};function l(e){return(0,o.$j)(c)((function(n){var r=n.isAuth,o=(0,s.Z)(n,a);return r?(0,i.jsx)(e,(0,t.Z)({},o)):(0,i.jsx)(u.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=123.1c4b1587.chunk.js.map